{% extends "ct/portal.html" %}
{% load crispy_forms_tags %}

{% comment %}
  View or edit a course
{% endcomment %}

{% block title %}
  {{ course.title }}
{% endblock %}

{% block content %}
<input type="checkbox" id="edittoggle"/>Edit.<BR>
<div class="container-fluid" id="editform" style="display: none">
{% crispy titleform %}
<form action="{{ actionTarget }}" method="post">
{% csrf_token %}
<input type="hidden" name="task" value="delete" />
<input type="submit" value="Delete this Course" />
</form>
</div>

<script>
$( "#edittoggle" ).click(function() {
  $( "#editform" ).toggle();
});
</script>

{% if course.unit_set.count > 0 %}
<h2>Units in this Course</h2>
<ul>
{% for unit in course.unit_set.all %}
  <li><a href="{% url 'ct:unit' unit.id %}">{{ unit.title }}</a>:
  {% if unit.unitq_set.count > 0 %}
    ({{ unit.unitq_set.count }} exercises)
  {% endif %}
  </li>
{% endfor %}
</ul>
{% endif %}

<h2>Add a New Unit</h2>

<div class="container-fluid">
{% crispy unitform %}
</div>

{% endblock %}

